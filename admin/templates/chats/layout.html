{% extends "chats/base.html" %}

{% block title %}Чаты{% endblock %}

{% block body %}
<div id="chats_layout" class="chats_layout" data-active="s2">
    <div class="chats_tablet_stage">
        <div class="chats_tablet_track">
            <aside id="chats_sidebar_1" class="chats_panel chats_sidebar chats_sidebar--1" tabindex="-1">
                {% block sidebar_1 %}
                <div class="chats_panel__header">Инстансы</div>
                <div class="chats_panel__body"
                     hx-get="/chats/sidebar/instances"
                     hx-trigger="load"
                     hx-target="this"
                     hx-swap="innerHTML">
                    Загрузка…
                </div>
                {% endblock %}
            </aside>

            <aside id="chats_sidebar_2" class="chats_panel chats_sidebar chats_sidebar--2" tabindex="-1">
                {% block sidebar_2 %}
                <div class="chats_panel__header">Диалоги</div>
                <div class="chats_panel__body">
                    <p class="dim">Не выбрано</p>
                </div>
                {% endblock %}
            </aside>
        </div>
    </div>

    <div id="chats_main" class="chats_panel chats_main" tabindex="-1">
        {% block main %}
        <div class="chats_panel__header">Основной контент</div>
        <div class="chats_panel__body">
            {% block main_body %}
            <p>Чат…</p>
            {% endblock %}
        </div>
        {% endblock %}
    </div>

    {# Плавающие кнопки управления (1,2,M) #}
    <button class="chats_ctrl chats_ctrl--s1" data-open="s1" aria-label="Показать сайдбар 1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640">
            <path d="M160 96C124.7 96 96 124.7 96 160L96 224C96 259.3 124.7 288 160 288L480 288C515.3 288 544 259.3 544 224L544 160C544 124.7 515.3 96 480 96L160 96zM376 168C389.3 168 400 178.7 400 192C400 205.3 389.3 216 376 216C362.7 216 352 205.3 352 192C352 178.7 362.7 168 376 168zM432 192C432 178.7 442.7 168 456 168C469.3 168 480 178.7 480 192C480 205.3 469.3 216 456 216C442.7 216 432 205.3 432 192zM160 352C124.7 352 96 380.7 96 416L96 480C96 515.3 124.7 544 160 544L480 544C515.3 544 544 515.3 544 480L544 416C544 380.7 515.3 352 480 352L160 352zM376 424C389.3 424 400 434.7 400 448C400 461.3 389.3 472 376 472C362.7 472 352 461.3 352 448C352 434.7 362.7 424 376 424zM432 448C432 434.7 442.7 424 456 424C469.3 424 480 434.7 480 448C480 461.3 469.3 472 456 472C442.7 472 432 461.3 432 448z"></path>
        </svg>
    </button>
    <button class="chats_ctrl chats_ctrl--s2" data-open="s2" aria-label="Показать сайдбар 2">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640">
            <path d="M416 208C416 305.2 330 384 224 384C197.3 384 171.9 379 148.8 370L67.2 413.2C57.9 418.1 46.5 416.4 39 409C31.5 401.6 29.8 390.1 34.8 380.8L70.4 313.6C46.3 284.2 32 247.6 32 208C32 110.8 118 32 224 32C330 32 416 110.8 416 208zM416 576C321.9 576 243.6 513.9 227.2 432C347.2 430.5 451.5 345.1 463 229.3C546.3 248.5 608 317.6 608 400C608 439.6 593.7 476.2 569.6 505.6L605.2 572.8C610.1 582.1 608.4 593.5 601 601C593.6 608.5 582.1 610.2 572.8 605.2L491.2 562C468.1 571 442.7 576 416 576z"></path>
        </svg>
    </button>
    <button class="chats_ctrl chats_ctrl--main" data-open="main" aria-label="Показать основной контент">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640">
            <path d="M576 304C576 436.5 461.4 544 320 544C282.9 544 247.7 536.6 215.9 523.3L97.5 574.1C88.1 578.1 77.3 575.8 70.4 568.3C63.5 560.8 62 549.8 66.8 540.8L115.6 448.6C83.2 408.3 64 358.3 64 304C64 171.5 178.6 64 320 64C461.4 64 576 171.5 576 304z"></path>
        </svg>
    </button>

    {# хит-зоны для свайпов на мобилке #}
    <div class="chats_edge chats_edge--left" data-edge="left"></div>
    <div class="chats_edge chats_edge--right" data-edge="right"></div>
</div>
{% endblock %}
